"use strict";var DOM_ELEMENTS={aboutContent:document.querySelector(".about__content"),avatars:document.querySelector(".avatars"),burger:document.getElementById("burger"),cards:document.querySelectorAll(".card"),contactsItem:document.querySelectorAll(".contacts__item"),footerText:document.querySelector(".footer__text"),footerTitle:document.querySelector(".footer__title"),main:document.getElementById("main"),menu:document.getElementById("menu"),menuElements:document.querySelectorAll(".nav__item"),sculpture:document.querySelector(".sculpture"),sliderElement:document.querySelector(".slider"),sliderInner:document.querySelector(".slider__inner"),statue:document.querySelector(".statue")},SLIDER_SETTINGS={cardWidth:DOM_ELEMENTS.cards[0].offsetWidth,countCards:DOM_ELEMENTS.cards.length,gap:Number(getComputedStyle(DOM_ELEMENTS.sliderInner).columnGap.replace("px","")),mediaQuery:window.matchMedia("(max-width: 1050px)").matches,slideTime:4e3,step:10,transformValue:function(){return this.cardWidth+this.gap},transformValueMax:function(){return this.transformValue()*(this.mediaQuery?this.countCards-1:this.countCards-3)}},SLIDER_VALUE={acc:0,elapsedMs:0,intervalId:null},OBSERVER_SETTINGS={root:null,rootMargin:"0px",threshold:.001},OBSERVER_ELEMENTS=[DOM_ELEMENTS.statue,DOM_ELEMENTS.aboutContent,DOM_ELEMENTS.sliderElement,DOM_ELEMENTS.sculpture,DOM_ELEMENTS.avatars,DOM_ELEMENTS.footerTitle,DOM_ELEMENTS.footerText,DOM_ELEMENTS.contactsItem],SCROLL={position:0,scrollOff:function(){scroll.position=window.scrollY,document.body.style.cssText="\n            overflow: hidden;\n            padding-right: ".concat(window.innerWidth-document.body.offsetWidth,"px;\n            position: fixed;\n            top: -").concat(scroll.position,"px;\n            left: 0;\n            height: 100vh;\n            width: 100vw;\n            "),document.documentElement.style.scrollBehavior="unset"},scrollOn:function(){document.body.style.cssText="",window.scrollTo({top:scroll.position}),document.documentElement.style.scrollBehavior=""}},observer=new IntersectionObserver(observerCallback,OBSERVER_SETTINGS);function burger(){var e=DOM_ELEMENTS.menu.classList.contains("menu-active");window.matchMedia("(max-width: 768px)").matches&&(e?(DOM_ELEMENTS.menu.classList.remove("menu-active"),DOM_ELEMENTS.main.classList.remove("main-menu-active"),SCROLL.scrollOn()):(DOM_ELEMENTS.menu.classList.add("menu-active"),DOM_ELEMENTS.main.classList.add("main-menu-active"),SCROLL.scrollOff()))}function slide(){SLIDER_VALUE.elapsedMs+=10,SLIDER_VALUE.elapsedMs>=SLIDER_SETTINGS.slideTime&&(SLIDER_VALUE.acc+=SLIDER_SETTINGS.transformValue(),SLIDER_VALUE.acc>SLIDER_SETTINGS.transformValueMax()&&(SLIDER_VALUE.acc=0),DOM_ELEMENTS.sliderInner.style.transform="translateX(-".concat(SLIDER_VALUE.acc,"px)"),SLIDER_VALUE.elapsedMs=0)}function start(){pause(),SLIDER_VALUE.intervalId=setInterval(slide,SLIDER_SETTINGS.step)}function pause(){clearInterval(SLIDER_VALUE.intervalId)}function restart(){SLIDER_VALUE.acc=0,SLIDER_VALUE.elapsedMs=0,DOM_ELEMENTS.sliderInner.style.transform="translateX(-0px)",start()}function observerCallback(e,t){var n={statue:"animation-observer-opacity",about__content:"animation-observer-shift",slider:"animation-observer-opacity",avatars:"animation-observer-shift",sculpture:"animation-observer-shift",footer__title:"animation-observer-opacity",footer__text:"animation-observer-opacity",contacts__item:"animation-observer-shift"};e.forEach((function(e){if(e.isIntersecting){var r=e.target.classList;for(var o in n){if(r.contains(o)){r.add(n[o]);break}t.unobserve(e.target)}}}))}function addObserverElement(e){e.forEach((function(e){e instanceof NodeList?e.forEach((function(e){return observer.observe(e)})):e instanceof Element&&observer.observe(e)}))}function updateSettingsSlider(){SLIDER_SETTINGS.cardWidth=document.querySelector(".card").offsetWidth,SLIDER_SETTINGS.gap=Number(getComputedStyle(document.querySelector(".slider__inner")).columnGap.replace("px","")),SLIDER_SETTINGS.mediaQuery=window.matchMedia("(max-width: 1050px)").matches}DOM_ELEMENTS.menuElements.forEach((function(e){return e.addEventListener("click",burger)})),DOM_ELEMENTS.sliderInner.addEventListener("mouseover",pause),DOM_ELEMENTS.sliderInner.addEventListener("mouseout",start),DOM_ELEMENTS.burger.addEventListener("click",burger),window.addEventListener("resize",(function(){restart(),updateSettingsSlider()})),start(),addObserverElement(OBSERVER_ELEMENTS);